\doxysection{shape\+\_\+polybezier.\+hpp}
\hypertarget{shape__polybezier_8hpp_source}{}\label{shape__polybezier_8hpp_source}\index{/Users/lzhshou/Documents/Research/myProjects/apaam/repo/netdem/src/shape/shape\_polybezier.hpp@{/Users/lzhshou/Documents/Research/myProjects/apaam/repo/netdem/src/shape/shape\_polybezier.hpp}}
\mbox{\hyperlink{shape__polybezier_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{shape_8hpp}{shape.hpp}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{stl__model_8hpp}{stl\_model.hpp}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{stl__reader_8hpp}{stl\_reader.hpp}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacenetdem}{netdem}}\ \{}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classnetdem_1_1_polybezier}{Polybezier}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classnetdem_1_1_shape}{Shape}}\ \{}
\DoxyCodeLine{00022\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00023\ \ \ \textcolor{comment}{//\ num\_patches\ have\ to\ be\ even}}
\DoxyCodeLine{00024\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_a9db7309122cf86a54a6b5d91e8b6954d}{num\_patches}}\{30\},\ \mbox{\hyperlink{classnetdem_1_1_polybezier_a1a2361798195770502dc4dbf84d8ed03}{order}}\{2\};\ \textcolor{comment}{//\ only\ second\ order\ implemented\ for\ now}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \textcolor{comment}{//\ [num\ of\ faces]\ by\ num\ of\ knots\ (e.g.,\ 6\ for\ 2nd\ order)\ by\ 3}}
\DoxyCodeLine{00027\ \ \ \mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<VecXT<Vec3d>}}>\ \mbox{\hyperlink{classnetdem_1_1_polybezier_aca8f31dddc2d7af147dec1c8ceddde26}{face\_patch\_knots\_list}};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \textcolor{comment}{//\ [num\ of\ faces]\ by\ 3\ vertices\ by\ 3}}
\DoxyCodeLine{00030\ \ \ \mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<VecXT<Vec3d>}}>\ \mbox{\hyperlink{classnetdem_1_1_polybezier_a5134e4d2db0021867d8c64d7f06bb7b9}{face\_patch\_normals\_list}};}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \textcolor{comment}{//\ [num\ of\ faces*3/2]\ by\ num\ of\ knots\ (e.g.,\ 6\ for\ 2nd\ order)\ by\ 3}}
\DoxyCodeLine{00033\ \ \ \mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<VecXT<Vec3d>}}>\ \mbox{\hyperlink{classnetdem_1_1_polybezier_ac1218a57c9b3d1304b99d4ba729a02fb}{edge\_patch\_knots\_list}};}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \textcolor{comment}{//\ [num\ of\ faces]\ by\ 3,\ used\ to\ find\ the\ edge\ patches\ for\ a\ face\ patch}}
\DoxyCodeLine{00036\ \ \ \mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<Vec3i>}}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_ac10a187ae800aaf1521eed709db7d640}{linked\_edges\_list}};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \textcolor{comment}{//\ [6*num\_cells\string^2]\ by\ [num\ of\ patches]}}
\DoxyCodeLine{00039\ \ \ \mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<VecXT<int>}}>\ \mbox{\hyperlink{classnetdem_1_1_polybezier_a742b5cbbaaf0a113737f5e06fb060196}{linked\_patches\_list}};}
\DoxyCodeLine{00040\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_aea00adb3552548d2699c8ec53bcc9fe1}{num\_cells}}\{4\};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00045\ \ \ \mbox{\hyperlink{classnetdem_1_1_polybezier_a310db06214373de8588a02916ef8616c}{Polybezier}}();}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00055\ \ \ nlohmann::json\ \mbox{\hyperlink{classnetdem_1_1_polybezier_ae286a4defe8607e3bf2ffd771ebae261}{PackJson}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00065\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_aa812d6b44f8fc2e6679b25009c659cad}{InitFromJson}}(nlohmann::json\ \textcolor{keyword}{const}\ \&js)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00074\ \ \ \mbox{\hyperlink{classnetdem_1_1_shape}{Shape}}\ *\mbox{\hyperlink{classnetdem_1_1_polybezier_a439a9125f96253fa67b83cb3fa126490}{Clone}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00082\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_afa6b26c41ac4b7d67605b5195d31cb94}{InitByRandom}}();}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00093\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_ad6fb2162349c6483a61572326cc405a6}{InitFromKernelSTL}}(std::string\ \textcolor{keyword}{const}\ \&file);}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00103\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_ad6fb2162349c6483a61572326cc405a6}{InitFromKernelSTL}}(\mbox{\hyperlink{classnetdem_1_1_s_t_l_model}{STLModel}}\ \textcolor{keyword}{const}\ \&stl\_model);}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00111\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_a6d749ac649b147ad1f6cd540e3dbe080}{Init}}();}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00119\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_a54241720500d2a90fb5652b8f750ea25}{UpdateShapeProperties}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00129\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_af384e6ec1edaa5375b86971601528080}{SetSize}}(\textcolor{keywordtype}{double}\ d)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00141\ \ \ \mbox{\hyperlink{classnetdem_1_1_s_t_l_model}{STLModel}}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_a23ac5612f7f5dd7d67428f1327015493}{GetSTLModel}}(\textcolor{keywordtype}{int}\ num\_nodes\ =\ 200)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00156\ \ \ \mbox{\hyperlink{classnetdem_1_1_s_t_l_model}{STLModel}}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_aa563b05298febf05c9969e8bcc95d8f0}{GetSTLModel\_v2}}(\textcolor{keywordtype}{int}\ num\_nodes\ =\ 200);}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00166\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_a557097154fc91ec51a7de8a8c33a89e6}{SaveNormalPatchesSpherical}}(std::string\ \textcolor{keyword}{const}\ \&file);}
\DoxyCodeLine{00167\ }
\DoxyCodeLine{00176\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_aa340e7dae1dc62af6f34e00cd4507d27}{SaveNormalPatchesCubic}}(std::string\ \textcolor{keyword}{const}\ \&file);}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00190\ \ \ \mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_a622e64685d49416ca42732c5466a9b1a}{SupportPoint}}(\mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \textcolor{keyword}{const}\ \&dir)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00204\ \ \ \mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<Vec3d>}}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_ac96d550cd6d9e4ef692fe5b882779d8d}{SupportPoints}}(\mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \textcolor{keyword}{const}\ \&dir)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00212\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_ab0c76c3d8158f3a4fb764fdb407e9912}{Print}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00221\ \ \ \textcolor{keywordtype}{void}\ AlignAxes();}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00230\ \ \ \textcolor{keywordtype}{void}\ UpdateLinkedPatches();}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<VecNT<Vec3d,\ 3>}}>\ mat\_du\_list,\ mat\_dv\_list;}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00240\ \ \ \textcolor{keywordtype}{void}\ UpdataMatDuDv();}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00253\ \ \ \mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ GetEdgeKnot(\mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \textcolor{keyword}{const}\ \&v0,\ \mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \textcolor{keyword}{const}\ \&v1,\ \mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \textcolor{keyword}{const}\ \&n01);}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00265\ \ \ \textcolor{keywordtype}{void}\ GetUniqueEdges(\mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<Vec2i>}}\ *\textcolor{keyword}{const}\ edges,}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<Vec3i>}}\ *\textcolor{keyword}{const}\ linked\_list,}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classnetdem_1_1_s_t_l_model}{STLModel}}\ \textcolor{keyword}{const}\ \&stl\_model);}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00280\ \ \ \mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ GetPatchNormal(\mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \textcolor{keyword}{const}\ \&v0,\ \mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \textcolor{keyword}{const}\ \&v1,\ \mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \textcolor{keyword}{const}\ \&v2);}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00290\ \ \ \textcolor{keywordtype}{void}\ SortNormalPatchVertices(\mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<Vec3d>}}\ *\textcolor{keyword}{const}\ normals);}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00301\ \ \ \mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<Vec3d>}}\ GetCartesianProject(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<Vec3d>}}\ \&normals);}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00314\ \ \ \mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<Vec3d>}}\ GetCartesianProject(\mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \textcolor{keyword}{const}\ \&v1,\ \mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \textcolor{keyword}{const}\ \&v2);}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00328\ \ \ \textcolor{keywordtype}{bool}\ ContainCorner(\mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \textcolor{keyword}{const}\ \&corner,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<Vec3d>}}\ \&normals);}
\DoxyCodeLine{00329\ }
\DoxyCodeLine{00341\ \ \ \mbox{\hyperlink{classnetdem_1_1_s_t_l_model}{STLModel}}\ \mbox{\hyperlink{classnetdem_1_1_polybezier_a23ac5612f7f5dd7d67428f1327015493}{GetSTLModel}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespacenetdem_a19bd090a5819e5163bd8d6aba69718bc}{VecXT<Vec3d>}}\ \&knots,\ \textcolor{keywordtype}{int}\ num\_nodes\_each);}
\DoxyCodeLine{00342\ }
\DoxyCodeLine{00353\ \ \ \textcolor{keywordtype}{int}\ GetSupportPatchID(\mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \textcolor{keyword}{const}\ \&dir);}
\DoxyCodeLine{00354\ \};}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \}\ \textcolor{comment}{//\ namespace\ netdem}}

\end{DoxyCode}
