\doxysection{deformation\+\_\+analysis.\+hpp}
\hypertarget{deformation__analysis_8hpp_source}{}\label{deformation__analysis_8hpp_source}\index{/Users/lzhshou/Documents/Research/myProjects/apaam/repo/netdem/src/modifier/deformation\_analysis.hpp@{/Users/lzhshou/Documents/Research/myProjects/apaam/repo/netdem/src/modifier/deformation\_analysis.hpp}}
\mbox{\hyperlink{deformation__analysis_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{deformable__particle_8hpp}{deformable\_particle.hpp}}"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{modifier_8hpp}{modifier.hpp}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{particle__group_8hpp}{particle\_group.hpp}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacenetdem}{netdem}}\ \{}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classnetdem_1_1_deformation_analysis}{DeformationAnalysis}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classnetdem_1_1_particle_group}{ParticleGroup}}\ \{}
\DoxyCodeLine{00016\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00020\ \ \ \textcolor{keyword}{enum}\ SolveBy\ \{\ cycles,\ time\ \};}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \textcolor{comment}{//\ 0:\ cycles,\ 1:\ time}}
\DoxyCodeLine{00023\ \ \ SolveBy\ solve\_by\{SolveBy::cycles\};}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \textcolor{keywordtype}{int}\ solve\_cycle\_interval\{0\};}
\DoxyCodeLine{00026\ \ \ \textcolor{keywordtype}{double}\ solve\_time\_interval\{0\};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \textcolor{keywordtype}{int}\ solve\_cycle\_previous\{0\};}
\DoxyCodeLine{00029\ \ \ \textcolor{keywordtype}{double}\ solve\_time\_previous\{0\};}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00034\ \ \ \textcolor{keyword}{using\ }SaveBy\ =\ SolveBy;}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ SaveBy\ save\_by\{SaveBy::cycles\};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \textcolor{keywordtype}{int}\ save\_cycle\_interval\{0\};}
\DoxyCodeLine{00039\ \ \ \textcolor{keywordtype}{double}\ save\_time\_interval\{0\};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \textcolor{keywordtype}{int}\ save\_cycle\_previous\{0\};}
\DoxyCodeLine{00042\ \ \ \textcolor{keywordtype}{double}\ save\_time\_previous\{0\};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00045\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a8a02e216e7cba2da98480e61b6d686c2}{neo\_k}}\{6.94e5\},\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a95e8c7338c24780cad50045681a7ceef}{neo\_mu}}\{5.21e5\},\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a37ac588736c2220e95ed0463781262a0}{density}}\{500.0\};}
\DoxyCodeLine{00046\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a02f458a090eab3c50d1c08bd2849d4b4}{damp\_coef}}\{0.7\};}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \mbox{\hyperlink{namespacenetdem_a510a89239abc51ed4d8d88ce7ee403df}{Vec3d}}\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a0a4753496a094ce7076b4810a8359727}{gravity\_coef}}\{0.0,\ 0.0,\ -\/9.81\};}
\DoxyCodeLine{00049\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a0e3c73a09234888369c4076fb11d6d66}{timestep}}\{1.0e-\/4\};}
\DoxyCodeLine{00050\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a5f30e08723f57c120571ef58e0787f02}{mesh\_res}}\{20\};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ std::string\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a5cc468128c0d9ef1a7df671da70dc89b}{root\_path}}\{\textcolor{stringliteral}{"{}tmp/out/deformation\_analysis/"{}}\};}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00055\ \ \ std::unordered\_map<Particle\ *,\ std::pair<bool,\ DeformableParticle>>}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a3e35977142064ee467ab8c6490d907ec}{particle\_map}};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00062\ \ \ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_ab05aac278d6985741cb97d43052794ec}{DeformationAnalysis}}();}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00069\ \ \ \mbox{\hyperlink{classnetdem_1_1_modifier}{Modifier}}\ *\mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a98c5cf82429ae3e24421a5c904a0655b}{Clone}}()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00076\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a8159a1d65475e975f45886acf6c14253}{Init}}(\mbox{\hyperlink{classnetdem_1_1_simulation}{Simulation}}\ *\mbox{\hyperlink{classnetdem_1_1_modifier_a2af15a41cb6d01349b0597d2f1828763}{sim}})\ \textcolor{keyword}{override};}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00083\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a1febfbee2fce59acd33135b2dab3f1d3}{SetSolveByTime}}(\textcolor{keywordtype}{double}\ interval);}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00090\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a5fb2744c53a6d84beee4e722a5711c8a}{SetSolveByCycles}}(\textcolor{keywordtype}{double}\ interval);}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00097\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a78088594a4f46d56fc392f1daa0f7881}{SetSaveByTime}}(\textcolor{keywordtype}{double}\ interval);}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00104\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a7909261ceb62aed1d634bfa9d28ee522}{SetSaveByCycles}}(\textcolor{keywordtype}{double}\ interval);}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00109\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_a8385f9938a351aa739992e03c5f0ef80}{Execute}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00114\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classnetdem_1_1_deformation_analysis_af3b65d438ee903795a61bd4ed225b0ec}{Update}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00120\ \ \ \textcolor{keywordtype}{void}\ SolveDeformation();}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00125\ \ \ \textcolor{keywordtype}{void}\ SaveFEMAsVTK();}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00134\ \ \ \textcolor{keywordtype}{void}\ EvaluateBCForce(\mbox{\hyperlink{classnetdem_1_1_deformable_particle}{DeformableParticle}}\ *\textcolor{keyword}{const}\ p\_deformable\_ptr,}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classnetdem_1_1_contact_p_p}{ContactPP}}\ *\textcolor{keyword}{const}\ cnt);}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00144\ \ \ \textcolor{keywordtype}{void}\ EvaluateBCForce(\mbox{\hyperlink{classnetdem_1_1_deformable_particle}{DeformableParticle}}\ *\textcolor{keyword}{const}\ p\_deformable\_ptr,}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classnetdem_1_1_contact_p_w}{ContactPW}}\ *\textcolor{keyword}{const}\ cnt);}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00153\ \ \ \textcolor{keywordtype}{void}\ SetSettings(\mbox{\hyperlink{classnetdem_1_1_f_e_m_simulator}{FEMSimulator}}\ *\textcolor{keyword}{const}\ fem\_sim);}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00162\ \ \ std::string\ GetFEMResultFileName(\mbox{\hyperlink{classnetdem_1_1_particle}{Particle}}\ *\textcolor{keyword}{const}\ p\_ptr);}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00171\ \ \ \textcolor{keywordtype}{bool}\ CheckIfToExecute();}
\DoxyCodeLine{00172\ \};}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \}\ \textcolor{comment}{//\ namespace\ netdem}}

\end{DoxyCode}
